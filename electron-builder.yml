appId: com.electron.app
productName: db-sync

directories:
  buildResources: build
  output: dist

files:
  - "out/**"
  - "resources/**"
  - "node_modules/prisma/**"
  - "node_modules/@prisma/**"
  - "node_modules/.bin/prisma*"

asarUnpack:
  - resources/**
  - node_modules/prisma/**
  - node_modules/@prisma/**
  - node_modules/.bin/prisma*

win:
  executableName: db-sync
  target:
    - nsis

nsis:
  artifactName: "${productName}-${version}-setup.${ext}"
  shortcutName: "${productName}"
  uninstallDisplayName: "${productName}"
  createDesktopShortcut: always

mac:
  target:
    - dmg
  entitlementsInherit: build/entitlements.mac.plist
  extendInfo:
    NSCameraUsageDescription: "Application requests access to the device's camera."
    NSMicrophoneUsageDescription: "Application requests access to the user's microphone."
    NSDocumentsFolderUsageDescription: "Application requests access to the user's Documents folder."
    NSDownloadsFolderUsageDescription: "Application requests access to the user's Downloads folder."
  notarize: false

dmg:
  artifactName: "${productName}-${version}.${ext}"

linux:
  target:
    - AppImage
    - snap
    - deb
  icon: build/icons
  maintainer: "electronjs.org"
  category: Utility

deb:
  afterInstall: build/debian/postinst
  fpm:
    - "--after-install=build/debian/postinst"

appImage:
  artifactName: "${productName}-${version}.${ext}"

npmRebuild: false

publish:
  provider: github
  owner: zeezme
  repo: db-sync
  releaseType: release
  vPrefixedTagName: true
  draft: false
  prerelease: false

electronDownload:
  mirror: https://npmmirror.com/mirrors/electron/
